run the tests in test.js to see both working and broken behavior after sinon fake timers are used. 
